{"version":3,"sources":["webpack://projectname/./source/js/get-send-data.js","webpack://projectname/./source/js/render-cards.js","webpack://projectname/./source/js/debounce.js","webpack://projectname/./source/js/filter.js","webpack://projectname/./source/js/main.js"],"names":["cardsWrapper","document","querySelector","similarCardTemplate","content","renderCards","array","innerHTML","forEach","element","newCard","cardElement","cloneNode","arrayItem","newElement","textContent","title","address","price","elementLink","id","setAttribute","type","classList","add","fillCardElement","createNewCard","appendChild","debounce","func","wait","immediate","timeout","context","this","args","arguments","clearTimeout","setTimeout","apply","searchInput","onSuccess","data","addEventListener","searchValue","value","toLowerCase","length","filteredData","filter","item","includes","renderFilteredCards","onInputRenderFilteredCards","fetch","method","credentials","then","response","ok","json","Error","status","statusText","catch","err","onFail"],"mappings":"yBAAA,MCAMA,EAAeC,SAASC,cAAc,UACtCC,EAAsBF,SAASC,cAAc,SAASE,QA4BtDC,EAAeC,IACnBN,EAAaO,UAAY,GACzBD,EAAME,SAAQC,IACZ,MAAMC,EATY,CAACD,IACrB,MAAME,EAAcR,EAAoBS,WAAU,GAElD,MAvBsB,EAACC,EAAWC,KAElC,MAAML,EAAUK,EAAWZ,cAAc,SACzCY,EAAWZ,cAAc,gBAAgBa,YAAcF,EAAUG,MACjEF,EAAWZ,cAAc,kBAAkBa,YAAcF,EAAUI,QACnEH,EAAWZ,cAAc,sBAAsBa,YAAc,KAAOF,EAAUK,MAC9E,MAAMC,EAAc,YAAYN,EAAUO,KAC1CX,EAAQY,aAAa,OAAQF,GAEN,sBAAnBN,EAAUS,MACZR,EAAWZ,cAAc,sBAAsBa,YAAc,qBAC7DN,EAAQc,UAAUC,IAAI,qBAGtBV,EAAWZ,cAAc,sBAAsBa,YAAc,iCAC7DN,EAAQc,UAAUC,IAAI,mBAOxBC,CAAgBhB,EAASE,GAClBA,GAMWe,CAAcjB,GAC9BT,EAAa2B,YAAYjB,OCjCvBkB,EAAW,CAACC,EAAMC,EAAMC,KAC5B,IAAIC,EACJ,OAAO,WACL,IAAIC,EAAUC,KAAMC,EAAOC,UAC3BC,aAAaL,GACbA,EAAUM,YAAW,WACnBN,EAAU,KACLD,GAAWF,EAAKU,MAAMN,EAASE,KACnCL,GACCC,IAAcC,GAASH,EAAKU,MAAMN,EAASE,KCJ7C,EAAelC,SAASC,cAAc,UACtCsC,EAAcvC,SAASC,cAAc,WHN3B,IAASuC,IIOCC,IACxBrC,EAAYqC,GDQqB,CAACA,IAClCF,EAAYG,iBAAiB,QAASf,GAAS,KAC7C,MAAMgB,EAAcJ,EAAYK,MAAMC,cACtC,KAAIF,EAAYG,QAAU,GAGxB,OAAO1C,EAAYqC,GAdG,EAACA,EAAMG,KACjC,EAAatC,UAAY,GACzB,MAAMyC,EAAeN,EAAKO,QAAQC,GACzBA,EAAKlC,MAAM8B,cAAcK,SAASN,KAE3CxC,EAAY2C,IAORI,CAAoBV,EAAME,KAjBV,OCMpBS,CAA2BX,IJRpBY,MIGO,oDJFZ,CACEC,OAAQ,MACRC,YAAa,gBAGdC,MAAMC,IACL,GAAIA,EAASC,GACX,OAAOD,EAASE,OAGlB,MAAM,IAAIC,MAAM,GAAGH,EAASI,UAAUJ,EAASK,iBAEhDN,MAAMf,IACLD,EAAUC,MAEXsB,OAAOC,IAjBwBC,UAkBvBD,M","file":"main.bundle.js","sourcesContent":["const getData = (getUrl, onSuccess, onFail) => {\n  return fetch(getUrl,\n    {\n      method: 'GET',\n      credentials: 'same-origin',\n    },\n  )\n    .then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      throw new Error(`${response.status} ${response.statusText}`);\n    })\n    .then((data) => {\n      onSuccess(data);\n    })\n    .catch((err) => {\n      onFail(err);\n    });\n};\n\nconst sendData = (sendUrl, body, onSuccess, onFail) => {\n  return fetch(sendUrl,\n    {\n      method: 'POST',\n      body,\n    },\n  )\n    .then((response) => {\n      if (response.ok) {\n        onSuccess();\n      } else {\n        onFail();\n      }\n    })\n    .catch(() => {\n      onFail();\n    });\n};\n\nexport { getData, sendData };\n","const cardsWrapper = document.querySelector('.cards');\r\nconst similarCardTemplate = document.querySelector('#card').content;\r\n\r\nconst fillCardElement = (arrayItem, newElement) => {\r\n  // заполняем данными конкертного объекта\r\n  const element = newElement.querySelector('.card')\r\n  newElement.querySelector('.card__title').textContent = arrayItem.title;\r\n  newElement.querySelector('.card__address').textContent = arrayItem.address;\r\n  newElement.querySelector('.card__price-value').textContent = ' £' + arrayItem.price;\r\n  const elementLink = `/details/${arrayItem.id}`\r\n  element.setAttribute('href', elementLink);\r\n\r\n  if (arrayItem.type === 'IndependentLiving') {\r\n    newElement.querySelector('.card__living-type').textContent = 'Independent living';\r\n    element.classList.add('card--indepdent');\r\n\r\n  } else {\r\n    newElement.querySelector('.card__living-type').textContent = 'Restaurant & Support available';\r\n    element.classList.add('card--support');\r\n  }\r\n  return newElement;\r\n};\r\n\r\nconst createNewCard = (element) => {\r\n  const cardElement = similarCardTemplate.cloneNode(true);\r\n  fillCardElement(element, cardElement);\r\n  return cardElement;\r\n};\r\n\r\nconst renderCards = (array) => {\r\n  cardsWrapper.innerHTML = '';\r\n  array.forEach(element => {\r\n    const newCard = createNewCard(element);\r\n    cardsWrapper.appendChild(newCard)\r\n  });\r\n};\r\n\r\nexport { renderCards };\r\n","const debounce = (func, wait, immediate) => {\r\n  let timeout;\r\n  return function () {\r\n    let context = this, args = arguments;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(function () {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    }, wait);\r\n    if (immediate && !timeout) func.apply(context, args);\r\n  };\r\n}\r\nexport { debounce };\r\n\r\n","import { renderCards } from './render-cards.js';\r\nimport { debounce } from './debounce.js';\r\n\r\nconst RERENDER_TIME = 500;\r\n\r\nconst cardsWrapper = document.querySelector('.cards');\r\nconst searchInput = document.querySelector('#search');\r\n\r\nconst renderFilteredCards = (data, value) => {\r\n  cardsWrapper.innerHTML = '';\r\n  const filteredData = data.filter((item) => {\r\n    return item.title.toLowerCase().includes(value);\r\n  });\r\n  renderCards(filteredData);\r\n};\r\n\r\nconst onInputRenderFilteredCards = (data) => {\r\n  searchInput.addEventListener('input', debounce(() => {\r\n    const searchValue = searchInput.value.toLowerCase();\r\n    if (searchValue.length >= 3) {\r\n      renderFilteredCards(data, searchValue)\r\n    } else {\r\n      return renderCards(data);\r\n    }\r\n  }, RERENDER_TIME)\r\n  )\r\n};\r\n\r\nexport { onInputRenderFilteredCards };\r\n","import { getData } from './get-send-data.js';\r\nimport { renderCards } from './render-cards.js';\r\nimport { onInputRenderFilteredCards } from './filter.js';\r\n\r\nconst GET_URL = 'https://603e38c548171b0017b2ecf7.mockapi.io/homes';\r\n\r\n\r\nconst onSuccessGetData = (data) => {\r\n  renderCards(data);\r\n  onInputRenderFilteredCards(data);\r\n};\r\n\r\ngetData(GET_URL, onSuccessGetData);\r\n"],"sourceRoot":""}